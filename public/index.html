<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script type="text/javascript" src="javascripts/popup.js"></script>

  <link rel="stylesheet" href="./stylesheets/style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/map.js"></script>
  <script> $(document).ready(main) </script>

  <!--<script type="text/javascript" src="./javascripts/index.js"></script>-->
  <style>
    html,
    body {
      background-image: url("https://venngage-wordpress.s3.amazonaws.com/uploads/2018/09/Simple-Background-Images-2.png");
      background-repeat: no-repeat;
      background-size: cover;
    }



    
  </style>
</head>


<body>

  <image src="Logo1.png" width="200" height="200" class="cropping">

    <p id="links">
      <!-- To move through various pages
	 Includes: Home link, About link, and link to a new page when Find My Route button is clicked-->

    <ul>
      <li><a href="./about.html">About</a></li>
      <li><a href="./TierOne.html">Facilities</a></li>
      <li><a href="./extra.html">Extra Info</a></li>
      
      <div id = "loginButtons">
	<li style="float:right"><a class="active" href="./login.html">Gov Login</a></li>
	<li style="float:right"><a href="./register.html">Gov Register</a></li>
      </div>
      
    
      
    </ul>
    <br></br> 




      <center>

        <input id="pac-input" class="controls" type="text" placeholder="Search Box">

        <div class="mapouter">
          <div class="gmap_canvas" id="map">
            <iframe width="600" height="500" id="gmap_canvas"
              src="https://maps.google.com/maps?q=portand&t=&z=13&ie=UTF8&iwloc=&output=embed" frameborder="0"
              scrolling="no" marginheight="0" marginwidth="0">
            </iframe>
            <a href="https://www.crocothemes.net">amazing wordpress websites
            </a>
          </div>
          <style>
            .mapouter {
              text-align: right;
              height: 500px;
              width: 600px;
            }

            .gmap_canvas {
              overflow: hidden;
              background: none;
              height: 500px;
              width: 600px;
            }
          </style>



          <script>
            // This example adds a search box to a map, using the Google Place Autocomplete
            // feature. People can enter geographical searches. The search box will return a
            // pick list containing a mix of places and predicted search terms.

            // This example requires the Places library. Include the libraries=places
            // parameter when you first load the API. For example:
            // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">


            var markers;
            function initAutocomplete() {
              var map = new google.maps.Map(document.getElementById('map'), {
                center: { lat: 45.5122, lng: -122.6587 },
                zoom: 13,
                mapTypeId: 'roadmap'
              });

		// Create the search box and link it to the UI element.
		var input = document.getElementById('pac-input');
              var searchBox = new google.maps.places.SearchBox(input);
              map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

              // Bias the SearchBox results towards current map's viewport.
              map.addListener('bounds_changed', function () {
                searchBox.setBounds(map.getBounds());
              });

              //var markers = [];
              markers = [];
              // Listen for the event fired when the user selects a prediction and retrieve
              // more details for that place.
              searchBox.addListener('places_changed', function () {
                var places = searchBox.getPlaces();

                if (places.length == 0) {
                  return;
                }

                // Clear out the old markers.
                markers.forEach(function (marker) {
                  marker.setMap(null);
                });
                markers = [];

                // For each place, get the icon, name and location.
                var bounds = new google.maps.LatLngBounds();
                places.forEach(function (place) {
                  if (!place.geometry) {
                    console.log("Returned place contains no geometry");
                    return;
                  }
		                  var icon = {
                    url: place.icon,
                    size: new google.maps.Size(71, 71),
                    origin: new google.maps.Point(0, 0),
                    anchor: new google.maps.Point(17, 34),
                    scaledSize: new google.maps.Size(25, 25)
                  };

                  alert(place.geometry.location);
                  // Create a marker for each place.
                  markers.push(new google.maps.Marker({
                    map: map,
                    icon: icon,
                    title: place.name,
                    position: place.geometry.location
                  }));

                  if (place.geometry.viewport) {
                    // Only geocodes have viewport.
                    bounds.union(place.geometry.viewport);
                  } else {
                    bounds.extend(place.geometry.location);
                  }
                });
                map.fitBounds(bounds);
              });
	
            }


          </script>
          <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAHAVcAEo6JCug4Fm2Bzw156mvETaQgD8&libraries=places&callback=initAutocomplete"
            ></script>




        </div></br>




        <br><button type="button" id="findMyRoute" onclick="modalPop()">Print PDF Version</button><br>

	<!-- The Modal -->
	<div id="myModal" class="modal">
	  
	  <!-- Modal content -->
	  <div class="modal-content">
	    <span class="closeButton" onclick="hidePop()">&times;</span>
	    
	    <button style="float:left" id ="exportButton"> Export as a PDF </button>
	    <br></br>
	    <img src="Route.jpg" id="fakeRoute">
	  </div>
	  
	</div>

      </center>
      </div>



</body>

</html>
